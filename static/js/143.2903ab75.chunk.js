"use strict";(self.webpackChunksigma_hw_05_ts=self.webpackChunksigma_hw_05_ts||[]).push([[143],{4828:function(n,t,e){e.d(t,{x:function(){return s}});var r=e(1413),o=e(4925),i=(e(2791),e(6591)),c=e(184),u=["children"],s=function(n){var t=n.children,e=(0,o.Z)(n,u);return(0,c.jsx)(i.D,(0,r.Z)((0,r.Z)({},e),{},{children:t}))}},7088:function(n,t,e){e.d(t,{z:function(){return g}});var r,o,i=e(1413),c=e(4925),u=(e(2791),e(7692)),s=e(168),l=e(5867),a=e(407),f=e(2608),d=l.ZP.button.withConfig({shouldForwardProp:f.ZP})(r||(r=(0,s.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  width: 220px;\n  height: 80px;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  ",";\n  ","\n  ","\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.radii.buttons}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.colors.mbgc}),a.$_,a.Cg,a.Dh),m=l.ZP.div(o||(o=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  background-color: ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.colors.buttonIcon}),(function(n){return n.theme.radii.round})),h=e(184),p=["children"],g=function(n){var t=n.children,e=(0,c.Z)(n,p);return(0,h.jsxs)(d,(0,i.Z)((0,i.Z)({},e),{},{children:[t,(0,h.jsx)(m,{children:(0,h.jsx)(u.OEZ,{size:15,color:"#fff"})})]}))}},1308:function(n,t,e){e.d(t,{e:function(){return m}});e(2791);var r,o,i=e(9630),c=e(168),u=e(5867),s=e(2608),l=e(407),a=u.ZP.div.withConfig({shouldForwardProp:s.ZP})(r||(r=(0,c.Z)(["\n  height: 450px;\n  background-color: ",";\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  ",";\n  ",";\n"])),(function(n){return n.theme.colors.bbgc}),l.$_,l.Oq),f=u.ZP.h2(o||(o=(0,c.Z)(["\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[9]}),(function(n){return n.theme.fontWeights.black}),(function(n){return n.theme.colors.mtc})),d=e(184),m=function(n){var t=n.children,e=n.backgroundColor,r=n.backgroundImage;return(0,d.jsx)(a,{backgroundImage:"url(".concat(r,")"),backgroundColor:e,children:(0,d.jsx)(i.W,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",children:(0,d.jsx)(f,{children:t})})})}},5094:function(n,t,e){e.d(t,{d:function(){return h}});e(2791);var r,o,i,c,u=e(168),s=e(5867),l=s.ZP.div(r||(r=(0,u.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 134px;\n  height: 80px;\n"]))),a=s.ZP.input(o||(o=(0,u.Z)(["\n  width: 100%;\n  height: 100%;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n  text-align: center;\n  background-color: ",";\n  border: 2px solid ",";\n  border-radius: ",";\n  outline: none;\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.colors.mbgc}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.radii.points})),f=s.ZP.button(i||(i=(0,u.Z)(["\n  position: absolute;\n  left: 10px;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[5]}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.colors.mtc})),d=s.ZP.button(c||(c=(0,u.Z)(["\n  position: absolute;\n  right: 10px;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[5]}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.colors.mtc})),m=e(184),h=function(n){var t=n.value,e=n.onInput,r=n.onIncrement,o=n.onDecrement;return(0,m.jsxs)(l,{children:[(0,m.jsx)(f,{type:"button",onClick:o,children:"-"}),(0,m.jsx)(a,{type:"text",value:t,onChange:e,maxLength:2}),(0,m.jsx)(d,{type:"button",onClick:r,children:"+"})]})}},1246:function(n,t,e){e.d(t,{T:function(){return r}});var r=function(n){return n.toFixed(2)}},600:function(n,t,e){e.r(t),e.d(t,{default:function(){return qn}});var r,o,i,c,u,s,l,a,f,d,m,h,p,g,x,Z,b,y,j,v,P,w,k,z,C,I,S,_=e(2791),q=e(1308),W=e(9439),N=e(1405),F=e(9438),T=e(1246),B=e(4828),D=e(9630),$=e(7088),O=e(5094),E=e(1413),A=e(4165),L=e(5861),M=e(7689),Q=e(1134),R=e(4695),X=e(1395),J=function(){var n=(0,L.Z)((0,A.Z)().mark((function n(t){var e,r,o,i,c,u;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.productsInCart,r=t.client,o=t.subtotal,i=t.discount,c=t.total,n.prev=1,n.next=4,X.f.post("/orders",{productsInCart:e,client:r,subtotal:o,discount:i,total:c});case 4:return u=n.sent,n.abrupt("return",u.data);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",{status:n.t0.response.status,message:n.t0.message});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}(),K=e(6727),U=K.Ry().shape({fullName:K.Z_().required("Name is required"),email:K.Z_().email("Invalid email").required("Email is required"),address:K.Z_().required("Address is required"),phoneNumber:K.Z_().matches(/^\d+$/,"Phone number should only contain numbers").min(10,"Phone number should be at least 10 digits").max(13,"Phone number should not exceed 13 digits").required("Phone is required"),message:K.Z_()}),V=e(168),G=e(5867),H=G.ZP.form(r||(r=(0,V.Z)(["\n  margin-top: 90px;\n"]))),Y=G.ZP.div(o||(o=(0,V.Z)(["\n  display: flex;\n  justify-content: space-between;\n  &:not(:first-child) {\n    margin-top: 50px;\n  }\n"]))),nn=G.ZP.div(i||(i=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n  width: 569px;\n"]))),tn=G.ZP.label(c||(c=(0,V.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.colors.mtc})),en=G.ZP.input(u||(u=(0,V.Z)(["\n  height: 80px;\n  padding: 30px 25px;\n  font-family: ",";\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  outline: none;\n  &::placeholder {\n    font-style: italic;\n    color: ",";\n  }\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.colors.mbgc}),(function(n){return n.theme.colors.atc}),(function(n){return n.theme.radii.buttons}),(function(n){return n.theme.colors.placeholder})),rn=G.ZP.div(s||(s=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n  width: 100%;\n  margin-top: 50px;\n"]))),on=G.ZP.textarea(l||(l=(0,V.Z)(["\n  height: 250px;\n  padding: 30px 25px;\n  font-family: ",";\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  outline: none;\n  resize: none;\n  &::placeholder {\n    font-style: italic;\n    color: ",";\n  }\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.colors.mbgc}),(function(n){return n.theme.colors.atc}),(function(n){return n.theme.radii.buttons}),(function(n){return n.theme.colors.placeholder})),cn=G.ZP.button(a||(a=(0,V.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 220px;\n  height: 80px;\n  margin-top: 90px;\n  margin-left: auto;\n  margin-right: auto;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  &:disabled {\n    cursor: default;\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.radii.buttons}),(function(n){return n.theme.colors.mtc}),(function(n){return n.theme.colors.mbgc}),(function(n){return n.theme.colors.dbtnc})),un=G.ZP.span(f||(f=(0,V.Z)(["\n  color: ",";\n"])),(function(n){return n.theme.colors.error})),sn=e(184),ln=function(n){var t,e,r,o,i,c=n.productsInCart,u=n.subtotal,s=n.discount,l=n.total,a=(0,Q.cI)({mode:"onTouched",resolver:(0,R.X)(U)}),f=a.register,d=a.handleSubmit,m=a.formState,h=m.errors,p=m.isSubmitSuccessful,g=m.isSubmitting,x=m.isValid,Z=a.reset,b=a.setError,y=(0,N.I0)(),j=(0,M.s0)();(0,_.useEffect)((function(){p&&(Z(),y((0,F.LL)()),j("/successful-order",{replace:!0}))}),[p,Z,y,j]);var v=function(){var n=(0,L.Z)((0,A.Z)().mark((function n(t){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,J({productsInCart:c,client:t,subtotal:u,discount:s,total:l});case 2:400===n.sent.status&&b("root",{type:"manual",message:"Couldn't submit order. Please try again later"});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,sn.jsxs)(H,{onSubmit:d(v),autoComplete:"off",children:[(0,sn.jsxs)(Y,{children:[(0,sn.jsxs)(nn,{children:[(0,sn.jsx)(tn,{htmlFor:"fullName",children:"Full name*"}),(0,sn.jsx)(en,(0,E.Z)((0,E.Z)({type:"name",id:"fullName"},f("fullName")),{},{placeholder:"John Doe"})),(null===(t=h.fullName)||void 0===t?void 0:t.message)&&(0,sn.jsx)(un,{children:h.fullName.message})]}),(0,sn.jsxs)(nn,{children:[(0,sn.jsx)(tn,{htmlFor:"email",children:"Email*"}),(0,sn.jsx)(en,(0,E.Z)((0,E.Z)({type:"email",id:"email"},f("email")),{},{placeholder:"example@sigma.software"})),(null===(e=h.email)||void 0===e?void 0:e.message)&&(0,sn.jsx)(un,{children:h.email.message})]})]}),(0,sn.jsxs)(Y,{children:[(0,sn.jsxs)(nn,{children:[(0,sn.jsx)(tn,{htmlFor:"address",children:"Address*"}),(0,sn.jsx)(en,(0,E.Z)((0,E.Z)({autoComplete:"off",type:"text",id:"address"},f("address")),{},{placeholder:"Kharkiv, Akademika Proskury Street, 1"})),(null===(r=h.address)||void 0===r?void 0:r.message)&&(0,sn.jsx)(un,{children:h.address.message})]}),(0,sn.jsxs)(nn,{children:[(0,sn.jsx)(tn,{htmlFor:"phoneNumber",children:"Phone number*"}),(0,sn.jsx)(en,(0,E.Z)((0,E.Z)({autoComplete:"off",type:"tel",id:"phoneNumber"},f("phoneNumber")),{},{inputMode:"numeric",placeholder:"0501234567"})),(null===(o=h.phoneNumber)||void 0===o?void 0:o.message)&&(0,sn.jsx)(un,{children:h.phoneNumber.message})]})]}),(0,sn.jsxs)(rn,{children:[(0,sn.jsx)(tn,{htmlFor:"message",children:"Message"}),(0,sn.jsx)(on,(0,E.Z)((0,E.Z)({autoComplete:"off",id:"message"},f("message")),{},{placeholder:"Is there anything else you want us to know?"})),(null===(i=h.message)||void 0===i?void 0:i.message)&&(0,sn.jsx)(un,{children:h.message.message})]}),(0,sn.jsx)(B.x,{children:(0,sn.jsx)(cn,{disabled:g||!x,children:"Confirm"})})]})},an=G.ZP.section(d||(d=(0,V.Z)(["\n  margin-top: 90px;\n  padding-top: 90px;\n  padding-bottom: 90px;\n  background-color: ",";\n"])),(function(n){return n.theme.colors.cbgc})),fn=G.ZP.img(m||(m=(0,V.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  mix-blend-mode: multiply;\n"]))),dn=G.ZP.div(h||(h=(0,V.Z)([""]))),mn=G.ZP.ul(p||(p=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),hn=G.ZP.li(g||(g=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),pn=G.ZP.div(x||(x=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 30px;\n"]))),gn=G.ZP.img(Z||(Z=(0,V.Z)(["\n  width: 200px;\n  height: 200px;\n  mix-blend-mode: multiply;\n"]))),xn=G.ZP.div(b||(b=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 15px;\n"]))),Zn=G.ZP.p(y||(y=(0,V.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.fontSizes[7]}),(function(n){return n.theme.colors.mtc})),bn=G.ZP.div(j||(j=(0,V.Z)(["\n  display: flex;\n  align-items: baseline;\n  gap: 15px;\n  margin-top: 10px;\n"]))),yn=G.ZP.p(v||(v=(0,V.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  text-decoration: line-through;\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.fontSizes[3]}),(function(n){return n.theme.colors.discount})),jn=G.ZP.p(P||(P=(0,V.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.fontSizes[4]}),(function(n){return n.theme.colors.mtc})),vn=G.ZP.div(w||(w=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.colors.mtc})),Pn=G.ZP.button(k||(k=(0,V.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 64px;\n  height: 46px;\n  border-radius: 16px;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.fontSizes[2]}),(function(n){return n.theme.colors.mbgc}),(function(n){return n.theme.colors.mtc})),wn=G.ZP.div(z||(z=(0,V.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n"]))),kn=G.ZP.p(C||(C=(0,V.Z)(["\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[4]}),(function(n){return n.theme.colors.mtc})),zn=G.ZP.p(I||(I=(0,V.Z)(["\n  margin-top: 15px;\n  font-family: ",";\n  font-size: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontSizes[4]})),Cn=G.ZP.p(S||(S=(0,V.Z)(["\n  margin-top: 30px;\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fonts.mtf}),(function(n){return n.theme.fontWeights.semiBold}),(function(n){return n.theme.fontSizes[4]}),(function(n){return n.theme.colors.mtc})),In=e.p+"static/media/empty-cart.72e00edc7adc1466c1a7.png",Sn=function(){var n=(0,_.useState)(!1),t=(0,W.Z)(n,2),e=t[0],r=t[1],o=(0,N.v9)(F.AQ),i=(0,N.I0)(),c=0===o.length,u=o.reduce((function(n,t){var e=t.price*t.quantity,r=t.priceOld?t.priceOld*t.quantity:e,o=r-e;return{total:n.total+e,subtotal:n.subtotal+r,discount:n.discount+o}}),{total:0,subtotal:0,discount:0}),s=u.total,l=u.subtotal,a=u.discount;return(0,sn.jsx)(an,{children:(0,sn.jsx)(D.W,{children:c?(0,sn.jsx)(fn,{src:In}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(dn,{children:[(0,sn.jsx)(mn,{children:o.map((function(n){var t=function(n){return{handleInputChange:function(t){var e=parseInt(t.target.value);!isNaN(e)&&e<=n.inStock&&i((0,F.dx)({_id:n._id,quantity:e}))},handleIncrement:function(){n.quantity<n.inStock&&i((0,F.dx)({_id:n._id,quantity:n.quantity+1}))},handleDecrement:function(){n.quantity>1&&i((0,F.dx)({_id:n._id,quantity:n.quantity-1}))}}}(n),e=t.handleInputChange,r=t.handleIncrement,o=t.handleDecrement;return(0,sn.jsxs)(hn,{children:[(0,sn.jsxs)(pn,{children:[(0,sn.jsx)(gn,{src:n.imageURL}),(0,sn.jsxs)(xn,{children:[(0,sn.jsx)(Zn,{children:n.name}),(0,sn.jsxs)(bn,{children:[(0,sn.jsx)(yn,{children:n.priceOld&&"$".concat((0,T.T)(n.priceOld))}),(0,sn.jsxs)(jn,{children:["$",(0,T.T)(n.price)]})]})]})]}),(0,sn.jsxs)(vn,{children:["Quantity:",(0,sn.jsx)(O.d,{value:n.quantity,onInput:e,onIncrement:r,onDecrement:o}),(0,sn.jsx)(Pn,{onClick:function(){return t=n._id,void i((0,F.h2)(t));var t},children:"X"})]})]},n._id)}))}),(0,sn.jsxs)(wn,{children:[(0,sn.jsxs)(kn,{children:["Subtotal: $",(0,T.T)(l)]}),(0,sn.jsxs)(zn,{children:["Discount: $",(0,T.T)(a)]}),(0,sn.jsxs)(Cn,{children:["Total: $",(0,T.T)(s)]})]}),(0,sn.jsx)(B.x,{display:"flex",alignItems:"center",justifyContent:"center",mt:80,children:!e&&(0,sn.jsx)($.z,{onClick:function(){return r(!0)},children:"To order"})})]}),e&&(0,sn.jsx)(ln,{productsInCart:o,subtotal:l,total:s,discount:a})]})})})},_n=e(5706),qn=function(){return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(q.e,{backgroundImage:_n,children:"Cart"}),(0,sn.jsx)(Sn,{})]})}},5706:function(n,t,e){n.exports=e.p+"static/media/cart.d7acf64b85ed14297eea.jpg"}}]);
//# sourceMappingURL=143.2903ab75.chunk.js.map